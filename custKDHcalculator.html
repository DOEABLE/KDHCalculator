<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>계사아아아앙ㄴ기이ㅣㅣㅣㅣ!</title>
	<style>
        table {
            border-collapse: collapse; /*바깥의 두꺼운 테두리를 제거함.*/
        }

        td {
            padding: 5px 10px; /*각 td태그 안 속성들에 상하 5, 좌우 10px의 패딩을 준다.*/
            text-align: center; /*td내의 각 글씨들을 중앙정렬 한다.*/
        }

        input {
            text-align: right;
            border: none; /*input(입, 출력필드)필드의 이중선 제거*/
        }

        input:focus {
            outline: none; /* 4. 입력필드, 출력필드를 클릭했을 때 생기는 검정 선 제거*/
        }
	</style>
</head>

<body>
<form>
	<table border="1">
		<tr>
			<td colspan="4">
				<input type="text" id="display">    <!--식 입력창-->
			</td>
		</tr>
		<tr>
			<td colspan="4">
				<input type="text" id="result">     <!--결과창-->
			</td>
		</tr>
		<tr>
			<td colspan="3" onclick="reset()">AC</td>
			<td onclick="add('/')">/</td>
		</tr>
		<tr>
			<td onclick="add('7')">7</td>
			<td onclick="add('8')">8</td>
			<td onclick="add('9')">9</td>
			<td onclick="add('*')">*</td>
		</tr>
		<tr>
			<td onclick="add('4')">4</td>
			<td onclick="add('5')">5</td>
			<td onclick="add('6')">6</td>
			<td onclick="add('-')">-</td>
		</tr>
		<tr>
			<td onclick="add('1')">1</td>
			<td onclick="add('2')">2</td>
			<td onclick="add('3')">3</td>
			<td onclick="add('+')">+</td>
		</tr>
		<tr>
			<td colspan="2" onclick="add('0')">0</td>
			<td onclick="add('.')">.</td>
			<td onclick="calculate()">=</td>
		</tr>
	</table>
</form>
<script>
	var numberClicked = false;  //전역 변수로 numberClicked를 설정
	// 내가 이전에 눌렀던 값이 숫자이면 true, 연산자이면 false라는 값을 가지도록
	// 우선, 처음에는 아무 입력도 받지 않으니 numberClicked의 초기 값은 false
	function add(char){                                     //입력한 버튼의 숫자나 기호를 추가하는 기능, char는 사용자가 누른 버튼의 값이다.
        //inNaN 함수는 숫자가 아닌 값을 입력 받았을 때 true를 반환한다.
		/*isNaN(10)     //false (10은 숫자이기 때문에)
		isNaN("HELLO")  //true
		isNaN(false)    //false(true, false는 각 1,0의 숫자에 대응되기 때문.)*/

		//이번 입력에 숫자가 눌렸는지 연산자가 눌렸는지 설정.
		if(numberClicked = false) {         //1. 연산자를 입력했는데
            if (isNaN(char) == true) {    //2. 입력값이 또 연산자면
            //아무일도 일어나지 않음
            } else {                        //2-1 입력값이 숫자라면
                document.getElementById('display').value +=char;  // 2-2 입력창에 입력한 숫자를 추가한다.
            }

        //다음입력을 위해 이번입력에 숫자가 눌렸는지 연산자가 눌렸는지 설정.
			if(isNaN(char)== true) {         //만약 숫자가 아닌게 참이라면 즉, 연산자를 눌렀다면
                numberClicked = false;
            }   else{                       //숫자를 눌렀다면
                    numberClicked = true;
				}
        }

        var display = document.getElementById('display');   //우리가 식을 입력할 input tag를 불러옴
        display.value += char;                              //input tag의 값 뒤에 char 문자를 추가해 주는 역할을 한다. display.value는 input tag 안에 들어있는 값을 의미.
	}

    function calculate(){
        var display = document.getElementById('display');
        var result = eval(display.value);
        document.getElementById('result').value = result;
    }

    function reset(){
        document.getElementById('display').value = "";
        document.getElementById('result').value = "";
    }
</script>
</body>
</html>